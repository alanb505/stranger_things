{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alanb\\\\Desktop\\\\courseWork\\\\stranger_things\\\\src\\\\components\\\\LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginForm = props => {\n  _s();\n\n  const [error, setError] = useState();\n  const isLogIn = props.isLogIn;\n  const setToken = props.setToken;\n\n  const onSubmit = e => {\n    const fData = new FormData(e.target);\n    e.preventDefault();\n    const userName = fData.get(\"username\");\n    const password = fData.get(\"password\");\n    const confirmPassword = fData.get(\"confirmPassword\");\n    fetch(`https://strangers-things.herokuapp.com/api/2204-ftb-mt-web-pt/users/${isLogIn ? \"login\" : \"register\"}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user: {\n          username: userName,\n          password\n        }\n      })\n    }).then(response => response.json()).then(data => {\n      if (data.success) {\n        const token = data.data.token;\n        window.localStorage.setItem(\"token\", token);\n        setToken(token);\n        window.location = \"/\";\n      } else {\n        setError(data.error.message);\n      }\n    }).catch(console.error);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          required: true,\n          min: 3,\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          min: 6,\n          placeholder: \" Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: [!isLogIn && /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"confirm password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 23\n        }, this), !isLogIn && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmPassword\",\n          required: true,\n          placeholder: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-button\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginForm, \"ohCv/qX5Qvv7Cjn7EU0ICsWDpi4=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","LoginForm","props","error","setError","isLogIn","setToken","onSubmit","e","fData","FormData","target","preventDefault","userName","get","password","confirmPassword","fetch","method","headers","body","JSON","stringify","user","username","then","response","json","data","success","token","window","localStorage","setItem","location","message","catch","console"],"sources":["C:/Users/alanb/Desktop/courseWork/stranger_things/src/components/LoginForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nconst LoginForm = (props) => {\r\n  const [error, setError] = useState();\r\n  const isLogIn = props.isLogIn;\r\n  const setToken = props.setToken;\r\n  const onSubmit = (e) => {\r\n    const fData = new FormData(e.target);\r\n    e.preventDefault();\r\n    const userName = fData.get(\"username\");\r\n    const password = fData.get(\"password\");\r\n    const confirmPassword = fData.get(\"confirmPassword\");\r\n    fetch(\r\n      `https://strangers-things.herokuapp.com/api/2204-ftb-mt-web-pt/users/${\r\n        isLogIn ? \"login\" : \"register\"\r\n      }`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          user: {\r\n            username: userName,\r\n            password,\r\n          },\r\n        }),\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (data.success) {\r\n          const token = data.data.token;\r\n          window.localStorage.setItem(\"token\", token);\r\n          setToken(token);\r\n          window.location = \"/\";\r\n        } else {\r\n          setError(data.error.message);\r\n        }\r\n      })\r\n      .catch(console.error);\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"formGroup\">\r\n          <label>Username</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            required\r\n            min={3}\r\n            placeholder=\"Username\"\r\n          ></input>\r\n        </div>\r\n        <div className=\"formGroup\">\r\n          <label>password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            required\r\n            min={6}\r\n            placeholder=\" Password\"\r\n          ></input>\r\n        </div>\r\n        <div className=\"formGroup\">\r\n          {!isLogIn &&<label>confirm password</label>}\r\n          {!isLogIn && (\r\n            <input\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              required\r\n              placeholder=\"Confirm Password\"\r\n            ></input>\r\n          )}\r\n        </div>\r\n        <div className=\"form-button\">\r\n          <button>Submit</button>\r\n        </div>\r\n      </form>\r\n      <p>{error}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;;;AACA,MAAMC,SAAS,GAAIC,KAAD,IAAW;EAAA;;EAC3B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,EAAlC;EACA,MAAMK,OAAO,GAAGH,KAAK,CAACG,OAAtB;EACA,MAAMC,QAAQ,GAAGJ,KAAK,CAACI,QAAvB;;EACA,MAAMC,QAAQ,GAAIC,CAAD,IAAO;IACtB,MAAMC,KAAK,GAAG,IAAIC,QAAJ,CAAaF,CAAC,CAACG,MAAf,CAAd;IACAH,CAAC,CAACI,cAAF;IACA,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,GAAN,CAAU,UAAV,CAAjB;IACA,MAAMC,QAAQ,GAAGN,KAAK,CAACK,GAAN,CAAU,UAAV,CAAjB;IACA,MAAME,eAAe,GAAGP,KAAK,CAACK,GAAN,CAAU,iBAAV,CAAxB;IACAG,KAAK,CACF,uEACCZ,OAAO,GAAG,OAAH,GAAa,UACrB,EAHE,EAIH;MACEa,MAAM,EAAE,MADV;MAEEC,OAAO,EAAE;QACP,gBAAgB;MADT,CAFX;MAKEC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBC,IAAI,EAAE;UACJC,QAAQ,EAAEX,QADN;UAEJE;QAFI;MADa,CAAf;IALR,CAJG,CAAL,CAiBGU,IAjBH,CAiBSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAjBtB,EAkBGF,IAlBH,CAkBSG,IAAD,IAAU;MACd,IAAIA,IAAI,CAACC,OAAT,EAAkB;QAChB,MAAMC,KAAK,GAAGF,IAAI,CAACA,IAAL,CAAUE,KAAxB;QACAC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCH,KAArC;QACAxB,QAAQ,CAACwB,KAAD,CAAR;QACAC,MAAM,CAACG,QAAP,GAAkB,GAAlB;MACD,CALD,MAKO;QACL9B,QAAQ,CAACwB,IAAI,CAACzB,KAAL,CAAWgC,OAAZ,CAAR;MACD;IACF,CA3BH,EA4BGC,KA5BH,CA4BSC,OAAO,CAAClC,KA5BjB;EA6BD,CAnCD;;EAoCA,oBACE;IAAA,wBACE;MAAM,QAAQ,EAAEI,QAAhB;MAAA,wBACE;QAAK,SAAS,EAAC,WAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,IAAI,EAAC,MADP;UAEE,IAAI,EAAC,UAFP;UAGE,QAAQ,MAHV;UAIE,GAAG,EAAE,CAJP;UAKE,WAAW,EAAC;QALd;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAWE;QAAK,SAAS,EAAC,WAAf;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,IAAI,EAAC,UADP;UAEE,IAAI,EAAC,UAFP;UAGE,QAAQ,MAHV;UAIE,GAAG,EAAE,CAJP;UAKE,WAAW,EAAC;QALd;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAXF,eAqBE;QAAK,SAAS,EAAC,WAAf;QAAA,WACG,CAACF,OAAD,iBAAW;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADd,EAEG,CAACA,OAAD,iBACC;UACE,IAAI,EAAC,UADP;UAEE,IAAI,EAAC,iBAFP;UAGE,QAAQ,MAHV;UAIE,WAAW,EAAC;QAJd;UAAA;UAAA;UAAA;QAAA,QAHJ;MAAA;QAAA;QAAA;QAAA;MAAA,QArBF,eAgCE;QAAK,SAAS,EAAC,aAAf;QAAA,uBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAhCF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAqCE;MAAA,UAAIF;IAAJ;MAAA;MAAA;MAAA;IAAA,QArCF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyCD,CAjFD;;GAAMF,S;;KAAAA,S;AAmFN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}